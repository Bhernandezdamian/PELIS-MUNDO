<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Serie Premium - Plataforma de Streaming </title>
  
  <!-- Bootstrap CSS + Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  
  <!-- Fuente personalizada -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    /* Estilos mejorados para la sección hero */
    .hero-section {
      position: relative;
      min-height: 80vh;
      margin-bottom: 2rem;
      border-radius: 1rem;
      overflow: hidden;
    }

    .hero-background {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center top;
      filter: brightness(0.5) contrast(1.1);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      padding: 3rem 2rem;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%);
    }

    .serie-title {
      font-size: 3.5rem;
      font-weight: 800;
      text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
      margin-bottom: 1.5rem;
    }

    .serie-metadata {
      max-width: 800px;
      margin-bottom: 2rem;
    }

    .serie-description {
      font-size: 1.2rem;
      line-height: 1.6;
      margin-bottom: 2rem;
      max-width: 700px;
    }

    .badge-genre {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.2);
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
    }

    @media (max-width: 768px) {
      .hero-section {
        min-height: 70vh;
      }
      
      .serie-title {
        font-size: 2.2rem;
      }
      
      .serie-description {
        font-size: 1rem;
      }
      
      .hero-content {
        padding: 2rem 1rem;
      }
      
      .trailer-button {
        bottom: 15px;
        padding: 8px 15px;
      }
    }
  </style>
</head>
<body>
  <!-- Header integrado en la navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark py-3">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
        <i class="bi bi-play-circle-fill text-primary fs-4"></i>
        <span class="fw-bold">CineMundo</span>
      </a>
    </div>
  </nav>

  <main class="container">
    <!-- Sección Hero mejorada -->
    <section class="hero-section">
      <button class="trailer-button" 
              data-bs-toggle="modal" 
              data-bs-target="#trailerModal">
        <i class="bi bi-play-circle"></i>
        <span>Ver tráiler</span>
      </button>

      <img src="https://gnula.legal/uploads/mini/multi-poster/df/496f1617f3a5b2cfe4fdac72e5cc3e.jpg?5" 
           class="hero-background" 
           alt="Portada de El Juego del Calamar"
           loading="lazy"
           style="object-position: center center;">

           <div class="hero-content">
            <div class="serie-metadata">
              <h1 class="serie-title">Invisible</h1>
              
              <div class="d-flex align-items-center gap-3 mb-4">
                <span class="badge bg-primary fs-6">HD</span>
                <span class="text-white opacity-75">2024</span>
                <span class="text-white opacity-75">12+</span>
                <div class="d-flex gap-2 text-warning">
                  <i class="bi bi-star-fill"></i>
                  <span>7.2/10</span>
                </div>
              </div>
          
              <p class="serie-description">
                Basada en la novela homónima de Eloy Moreno, "Invisible" sigue la historia de Capi, un niño de 12 años que, tras un accidente traumático, desarrolla una severa ansiedad y cree tener el poder de hacerse invisible. La serie aborda temas como el acoso escolar y la salud mental en la adolescencia.
              </p>
          
              <div class="mb-4">
                <div class="d-flex flex-wrap gap-2">
                  <span class="badge badge-genre">Drama</span>
                  <span class="badge badge-genre">Fantasía</span>
                </div>
                <small class="text-muted d-block mt-2">Título original: Invisible</small>
              </div>
          
              <div class="d-flex flex-wrap gap-3">
                <button class="btn btn-lg btn-primary px-5 py-3 play-button-hint" onclick="playFirstEpisode()">
                  <i class="bi bi-play-fill me-2"></i>Reproducir ahora
                </button>
                
                <div class="d-flex gap-3">
                  <a href="https://www.themoviedb.org/tv/220513-invisible" target="_blank" class="btn btn-outline-light btn-sm" rel="noopener noreferrer">
                    <i class="bi bi-info-circle me-2"></i>TMDB
                  </a>
                  <a href="https://www.imdb.com/title/tt26658061/" target="_blank" class="btn btn-outline-light btn-sm" rel="noopener noreferrer">
                    <i class="bi bi-film me-2"></i>IMDB
                  </a>
                </div>
              </div>
          
              <div class="mt-4 pt-3 border-top border-secondary">
                <small class="text-muted opacity-75">
                  Ver Invisible Online Gratis | Ver Invisible en latino | Invisible Online Gratis | Descargar Invisible Online
                </small>
              </div>
            </div>
          </div>
          
    </section>
    <!-- Modal del Trailer -->
    <div class="modal fade" id="trailerModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content bg-dark border border-light">
          <div class="modal-header border-0">
            <h5 class="modal-title">Tráiler oficial</h5>
            <button type="button" class="btn-close btn-close-white" 
                    data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body p-0">
            <div class="ratio ratio-16x9">
              <iframe id="trailerVideo" 
                      src="https://www.youtube.com/embed/eaob2z0mm8M?si=LMqoM76iKutNqQIM" 
                      allow="accelerometer; autoplay; encrypted-media; gyroscope" 
                      allowfullscreen></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de Temporadas -->
    <section class="mb-5">
      <h2 class="mb-4 fw-semibold"><i class="bi bi-collection-play me-2"></i>Temporadas</h2>
      <div class="d-flex flex-wrap gap-3">
        <button class="btn season-button" onclick="loadEpisodes('season1', this)">
          <i class="bi bi-tv me-2"></i>Temporada 1
        </button>
        
      </div>
    </section>

    <!-- Sección de Episodios -->
    <section id="episodes" class="mb-5" style="display: none;">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-semibold mb-0"><i class="bi bi-film me-2"></i>Episodios</h2>
        <button class="btn btn-link text-primary" onclick="hideEpisodes()">
          <i class="bi bi-arrow-left me-2"></i>Volver a temporadas
        </button>
      </div>
      <div id="episode-buttons" class="row g-4 row-cols-1 row-cols-md-2 row-cols-lg-3">
        <!-- Episodios generados dinámicamente -->
      </div>
    </section>


    <!-- anuncio -->
   



    <!-- Sección de Video -->
    <section id="video" class="mb-5" style="display: none;">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-semibold mb-0">
          <i class="bi bi-play-circle me-2"></i>
          <span id="video-title">Episodio Actual</span>
        </h2>
        <button class="btn btn-link text-primary" onclick="hideVideo()">
          <i class="bi bi-x-lg me-2"></i>Cerrar reproductor
        </button>
      </div>
      <!-- Se asigna id "videoContainer" para poder solicitar fullscreen -->
      <div id="videoContainer" class="video-container">
        <div class="ratio ratio-16x9">
          <iframe id="video-iframe" class="video-iframe" 
                  allow="autoplay; encrypted-media" 
                  allowfullscreen></iframe>
        </div>
      </div>
      <!-- Botón para ver pantalla completa -->
      <div class="text-center mt-3">
        <button id="fullscreenBtn" class="btn btn-primary">
          Ver pantalla completa
        </button>
      </div>
    </section>
  </main>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    const episodesData = {
      "season1": [
        { 
          title: "T1 E1 - El chico invisible", 
          url: "https://goodstream.one/video/embed/8hg4zenphn32",
          duration: "49 min",
          description: "Un chico de 12 años sufre un terrible accidente, tras el que desvela que puede hacerse invisible",
          thumbnail: "https://es.web.img2.acsta.net/r_1920_1080/img/a5/14/a51463e54b57a2634a12ddb8fa38a852.jpg"
        },
        { 
          title: "T1 E2 - La chica de las cien pulseras", 
          url: "https://goodstream.one/video/embed/hu6l7fuq9qdh",
          duration: "49 min",
          description: "Kiri se ve incapaz de visitar a Capi. El chico relata el inicio de sus problemas en el instituto.",
          thumbnail: "https://es.web.img3.acsta.net/r_1920_1080/img/63/88/638852b2a1e92dc73e0a6cfafcf8a848.jpg"
        },
        { 
          title: "T1 E3 - El chico avispa", 
          url: "https://goodstream.one/video/embed/f3smhldg8ewt",
          duration: "49 min",
          description: "Capi cuenta cómo consiguió el poder de hacerse invisible yendo a la fiesta de MM: las Olimpiadas.",
          thumbnail: "https://es.web.img2.acsta.net/r_1920_1080/img/65/d0/65d02bf44809f39a60c3c5649a4df4d0.jpg"
        },
        { 
          title: "T1 E4 - El chico de la cicatriz en la ceja", 
          url: "https://goodstream.one/video/embed/h9k8g1kx0hio",
          duration: "49 min",
          description: "Capi, con el poder de hacerse invisible, sigue distanciándose de sus amigos, sobre todo de Zaro.",
          thumbnail: "https://es.web.img2.acsta.net/r_1920_1080/img/aa/ea/aaeafacaf8b37a10e67066bcd50e8022.jpg"
        },
        { 
          title: "T1 E5 - El chico de la herida en el pecho", 
          url: "https://goodstream.one/video/embed/efzge3ehvc9j",
          duration: "49 min",
          description: "La culpa corroe a MM, aislándole mientras en el instituto empiezan a investigar sobre el accidente.",
          thumbnail: "https://es.web.img3.acsta.net/r_1920_1080/img/be/7d/be7d5d4ba4db2ece805b2d0cdd748c1f.jpg"
        },
        { 
          title: "T1 E6 - La chica del dragón en la espalda", 
          url: "https://goodstream.one/video/embed/e02y64ti3gls",
          duration: "49 min",
          description: "Capi cuenta la verdad sobre su accidente. La profesora desvela el misterio del dragón en su espalda.",
          thumbnail: "https://es.web.img3.acsta.net/r_1920_1080/img/f1/ef/f1ef9cfce862df86d6322d6d995f9d59.jpg"
        },
        
      ],
      "season2": [
        { 
          title: "1. Sustento y azar", 
          url: "https://goodstream.one/video/embed/aapawfm9va02",
          duration: "65 min",
          description: "Dispuesto a vengarse, Gi‑hun decide volver al aeropuerto. Más tarde, en su escondite, intensifica la búsqueda del escurridizo reclutador, quien ya está detrás de nuevos jugadores.",
          thumbnail: "https://occ-0-1227-116.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABW8rjkPi0GcaxImHjy1t3Um3NBoRFMHfKD11tnA09W6ZWsSHyskhALEi7xy0-VkiJhIa5cF5zQcArJ7-AMJkBWP2QKbUEBSrrzVeZm2WK1RADcn7vNYhOgE4.jpg?r=1f7"
        },
        { 
          title: "2. Fiesta de Halloween", 
          url: "https://goodstream.one/video/embed/mdr8aopfoppe",
          duration: "52 min",
          description: "Gi‑hun finalmente consigue una invitación, con fecha para el día de Halloween. Luego, en medio de una tensa situación con Jun‑ho, ambos revelan sus verdaderas intenciones.",
          thumbnail: "https://occ-0-1227-116.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABZl9CDSZHM5xodNwYQIKAJeN0HQmvvuK-ce97HSxMt2LsjUDpRDZHRj5Rz35cSnlrzXVVi0Zx-bYDbUjntGkZlZaI6nkv7ZnDiNht_Cx8c35bpL0mc782MT_.jpg?r=593"
        },
        { 
          title: "3. 001", 
          url: "https://goodstream.one/video/embed/zg3pxvgyibwt",
          duration: "62 min",
          description: "Nuevos jugadores llegan para competir por el premio multimillonario. Después de una primera ronda intensa, el destino de los sobrevivientes depende de un solo voto...",
          thumbnail: "https://occ-0-1227-116.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABb-C038A52xUVeixaMdJcsoLPOW9XVFuP9kmqfM_hEG2QJzv5K8BE-JxI0R_utwWiuMofu-MR42lNkc9l9_IqasWe8rIBGt-FJwsWQmil3-d9dHTc7f05MLZ.jpg?r=19e"
        },
        { 
          title: "4. Seis piernas", 
          url: "https://goodstream.one/video/embed/75whbwv7pf4h",
          duration: "63 min",
          description: "Los competidores se preparan para el siguiente juego: Pentatlón a seis piernas. Cada integrante deberá superar una miniprueba... para evitar que todo su equipo quede eliminado.",
          thumbnail: "https://occ-0-1227-116.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABVK-TtJdfvWjZ-3D2zXNx0rq7QfjSJBvXH_z6ARd6G7BnhDhhVqjEavhAy0sXrJDdx5vFu6PVtBd8rHO-jbRBIr3lJHIZStyqrAXpVK-KwU5-VkvuJwHPH5X.jpg?r=7cb"
        },
        { 
          title: "5. Otra ronda", 
          url: "https://goodstream.one/video/embed/vjje2rzjmlup",
          duration: "76 min",
          description: "Kang No‑eul gana enemigos por no seguir las reglas. La tensión crece hasta el límite cuando los jugadores que quedan deben decidir si avanzar o no a la siguiente ronda.",
          thumbnail: "https://occ-0-1227-116.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABVK-TtJdfvWjZ-3D2zXNx0rq7QfjSJBvXH_z6ARd6G7BnhDhhVqjEavhAy0sXrJDdx5vFu6PVtBd8rHO-jbRBIr3lJHIZStyqrAXpVK-KwU5-VkvuJwHPH5X.jpg?r=7cb"
        },
        { 
          title: "6. O X", 
          url: "https://goodstream.one/video/embed/f5l630lu18u5",
          duration: "52 min",
          description: "Jun‑ho y su equipo se preparan para infiltrarse en una sospechosa isla. A medida que aumenta el dinero en juego, crece la tensión..., y los jugadores se dividen.",
          thumbnail: "https://occ-0-1227-116.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABeQ2Kv6jb3CBhnHGvou0GI0374lWl5PJXO14SBcl00fw-hYkRV15L-RiErUrXrPEWlnrTJKF176p-pQJowlCg0-Wf4DNWTKsWPExTo6npFqtrKrA5YGKxwyL.jpg?r=d13"
        },
        { 
          title: "7. Amigos o enemigos", 
          url: "https://goodstream.one/video/embed/f5l630lu18u5",
          duration: "60 min",
          description: "Los jugadores finalistas buscan estrategias para sobrevivir durante la noche. Gi‑hun propone un plan arriesgado, pero para llevarlo a cabo, necesitará aliados confiables.",
          thumbnail: "https://occ-0-1227-116.1.nflxso.net/dnm/api/v6/9pS1daC2n6UGc3dUogvWIPMR_OU/AAAABeQ2Kv6jb3CBhnHGvou0GI0374lWl5PJXO14SBcl00fw-hYkRV15L-RiErUrXrPEWlnrTJKF176p-pQJowlCg0-Wf4DNWTKsWPExTo6npFqtrKrA5YGKxwyL.jpg?r=d13"
        }
      ]
    };

    // Inicializar tooltips
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
    new bootstrap.Tooltip(document.querySelector('.trailer-button'));

    function loadEpisodes(season, button) {
      const episodesSection = document.getElementById('episodes');
      const episodeButtons = document.getElementById('episode-buttons');
      
      document.querySelectorAll('.season-button').forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
      
      episodeButtons.innerHTML = episodesData[season].map(episode => `
        <div class="col">
          <div class="episode-card p-4 h-100" onclick="loadVideo('${episode.url}', '${episode.title}')">
            <div class="row g-3">
              <div class="col-4">
                <img src="${episode.thumbnail}" 
                     class="img-fluid rounded-2" 
                     alt="${episode.title}"
                     loading="lazy">
              </div>
              <div class="col-8">
                <h5 class="fw-semibold mb-2">${episode.title}</h5>
                <p class="text-muted small mb-2">${episode.duration}</p>
                <p class="small opacity-75 mb-0">${episode.description}</p>
              </div>
            </div>
          </div>
        </div>
      `).join('');
      
      episodesSection.style.display = 'block';
      window.scrollTo({ top: episodesSection.offsetTop - 100, behavior: 'smooth' });
    }

    function loadVideo(url, title) {
      const videoSection = document.getElementById('video');
      document.getElementById('video-title').textContent = title;
      document.getElementById('video-iframe').src = url;
      videoSection.style.display = 'block';
      window.scrollTo({ top: videoSection.offsetTop - 100, behavior: 'smooth' });
    }

    function hideEpisodes() {
      document.getElementById('episodes').style.display = 'none';
      document.querySelectorAll('.season-button').forEach(btn => btn.classList.remove('active'));
    }

    function hideVideo() {
      const videoSection = document.getElementById('video');
      videoSection.style.display = 'none';
      document.getElementById('video-iframe').src = '';
      // Si el reproductor está en pantalla completa, salimos de ese modo
      if (document.fullscreenElement) {
        document.exitFullscreen();
      }
    }

    function playFirstEpisode() {
      const firstSeason = Object.keys(episodesData)[0];
      const firstEpisode = episodesData[firstSeason][0];
      
      const seasonButton = document.querySelector(`[onclick*="${firstSeason}"]`);
      loadEpisodes(firstSeason, seasonButton);
      
      setTimeout(() => {
        loadVideo(firstEpisode.url, firstEpisode.title);
      }, 300);
    }

    // Agregar funcionalidad al botón de pantalla completa
    document.getElementById('fullscreenBtn').addEventListener('click', function() {
      const videoContainer = document.getElementById('videoContainer');
      if (videoContainer.requestFullscreen) {
        videoContainer.requestFullscreen();
      } else if (videoContainer.webkitRequestFullscreen) { /* Safari */
        videoContainer.webkitRequestFullscreen();
      } else if (videoContainer.msRequestFullscreen) { /* IE11 */
        videoContainer.msRequestFullscreen();
      }
    });

    // Control del trailer
    const trailerModal = document.getElementById('trailerModal');
    const trailerVideo = document.getElementById('trailerVideo');
    
    trailerModal.addEventListener('hidden.bs.modal', () => {
      trailerVideo.src = trailerVideo.src.replace('&autoplay=1', '');
    });
  </script>

  <script>
    function redirectToExternal() {
      const userAgent = navigator.userAgent;
      
      // Para Android
      if (/Android/i.test(userAgent)) {
        window.location.href = "intent://pelis-mundo.vercel.app/Invisible.html#Intent;scheme=http;package=com.android.chrome;end";
      }
      // Para iOS
      else if (/iPhone|iPad|iPod/i.test(userAgent)) {
        window.location.href = "googlechrome://pelis-mundo.vercel.app/Invisible.html";
        setTimeout(function() {
          window.location.href = "https://pelis-mundo.vercel.app/Invisible.html";
        }, 500);
      }
      // Otros dispositivos
      else {
        window.open("https://pelis-mundo.vercel.app/Invisible.html", "_blank");
      }
    }

    // Ejecutar redirección al detectar la app de Facebook
    if (navigator.userAgent.match(/FBAN|FBAV/i)) {
      redirectToExternal();
    }
</script>



</body>
</html>
