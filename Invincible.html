<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Serie Premium - Plataforma de Streaming </title>
  
  <!-- Bootstrap CSS + Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  
  <!-- Fuente personalizada -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    /* Estilos mejorados para la sección hero */
    .hero-section {
      position: relative;
      min-height: 80vh;
      margin-bottom: 2rem;
      border-radius: 1rem;
      overflow: hidden;
    }

    .hero-background {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center top;
      filter: brightness(0.5) contrast(1.1);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      padding: 3rem 2rem;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%);
    }

    .serie-title {
      font-size: 3.5rem;
      font-weight: 800;
      text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
      margin-bottom: 1.5rem;
    }

    .serie-metadata {
      max-width: 800px;
      margin-bottom: 2rem;
    }

    .serie-description {
      font-size: 1.2rem;
      line-height: 1.6;
      margin-bottom: 2rem;
      max-width: 700px;
    }

    .badge-genre {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.2);
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
    }

    @media (max-width: 768px) {
      .hero-section {
        min-height: 70vh;
      }
      
      .serie-title {
        font-size: 2.2rem;
      }
      
      .serie-description {
        font-size: 1rem;
      }
      
      .hero-content {
        padding: 2rem 1rem;
      }
      
      .trailer-button {
        bottom: 15px;
        padding: 8px 15px;
      }
    }
  </style>
</head>
<body>
  <!-- Header integrado en la navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark py-3">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
        <i class="bi bi-play-circle-fill text-primary fs-4"></i>
        <span class="fw-bold">CineMundo</span>
      </a>
    </div>
  </nav>

  <main class="container">
    <!-- Sección Hero mejorada -->
    <section class="hero-section">
      <button class="trailer-button" 
              data-bs-toggle="modal" 
              data-bs-target="#trailerModal">
        <i class="bi bi-play-circle"></i>
        <span>Ver tráiler</span>
      </button>

      <img src="https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5" 
           class="hero-background" 
           alt="Beast Games"
           loading="lazy"
           style="object-position: center center;">

           <div class="hero-content">
            <div class="serie-metadata">
              <h1 class="serie-title">Invincible</h1>
              
              <div class="d-flex align-items-center gap-3 mb-4">
                <span class="badge bg-primary fs-6">HD</span>
                <span class="text-white opacity-75">2021</span>
                <span class="text-white opacity-75">18+</span>
                <div class="d-flex gap-2 text-warning">
                  <i class="bi bi-star-fill"></i>
                  <span>8.7/10</span>
                </div>
              </div>
          
              <p class="serie-description">
                Mark Grayson es un adolescente aparentemente normal, excepto por el hecho de que su padre, Nolan, es Omni-Man, el superhéroe más poderoso del planeta. Poco después de su decimoséptimo cumpleaños, Mark comienza a desarrollar sus propios poderes y descubre que el legado de su padre puede no ser tan heroico como parece.
              </p>
          
              <div class="mb-4">
                <div class="d-flex flex-wrap gap-2">
                  <span class="badge badge-genre">Animación</span>
                  <span class="badge badge-genre">Acción</span>
                  <span class="badge badge-genre">Aventura</span>
                  <span class="badge badge-genre">Drama</span>
                  <span class="badge badge-genre">Fantasía</span>
                  <span class="badge badge-genre">Ciencia ficción</span>
                  <span class="badge badge-genre">Suspenso</span>
                </div>
                <small class="text-muted d-block mt-2">Título original: Invincible</small>
              </div>
          
              <div class="d-flex flex-wrap gap-3">
                <button class="btn btn-lg btn-primary px-5 py-3 play-button-hint" onclick="playFirstEpisode()">
                  <i class="bi bi-play-fill me-2"></i>Reproducir ahora
                </button>
                
                <div class="d-flex gap-3">
                  <a href="https://www.themoviedb.org/tv/95557-invincible" target="_blank" class="btn btn-outline-light btn-sm" rel="noopener noreferrer">
                    <i class="bi bi-info-circle me-2"></i>TMDB
                  </a>
                  <a href="https://www.imdb.com/title/tt6741278/" target="_blank" class="btn btn-outline-light btn-sm" rel="noopener noreferrer">
                    <i class="bi bi-film me-2"></i>IMDB
                  </a>
                </div>
              </div>
          
              <div class="mt-4 pt-3 border-top border-secondary">
                <small class="text-muted opacity-75">
                  Ver Invincible Online Gratis | Ver Invincible en latino | Invincible Online Gratis | Descargar Invincible Online
                </small>
              </div>
            </div>
          </div>
          
          
          
    </section>
    <!-- Modal del Trailer -->
    <div class="modal fade" id="trailerModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content bg-dark border border-light">
          <div class="modal-header border-0">
            <h5 class="modal-title">Tráiler oficial</h5>
            <button type="button" class="btn-close btn-close-white" 
                    data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body p-0">
            <div class="ratio ratio-16x9">
              <iframe id="trailerVideo" 
                      src="https://www.youtube.com/embed/zJttDjQ7N8w?si=dub4Mvcor18-vLwJ" 
                      allow="accelerometer; autoplay; encrypted-media; gyroscope" 
                      allowfullscreen></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de Temporadas -->
    <section class="mb-5">
      <h2 class="mb-4 fw-semibold"><i class="bi bi-collection-play me-2"></i>Temporadas</h2>
      <div class="d-flex flex-wrap gap-3">
        <button class="btn season-button" onclick="loadEpisodes('season1', this)">
          <i class="bi bi-tv me-2"></i>Temporada 1
        </button>
        <button class="btn season-button" onclick="loadEpisodes('season2', this)">
            <i class="bi bi-tv me-2"></i>Temporada 2
          </button>
          <button class="btn season-button" onclick="loadEpisodes('season3', this)">
            <i class="bi bi-tv me-2"></i>Temporada 3
          </button>
        
      </div>
    </section>

    <!-- Sección de Episodios -->
    <section id="episodes" class="mb-5" style="display: none;">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-semibold mb-0"><i class="bi bi-film me-2"></i>Episodios</h2>
        <button class="btn btn-link text-primary" onclick="hideEpisodes()">
          <i class="bi bi-arrow-left me-2"></i>Volver a temporadas
        </button>
      </div>
      <div id="episode-buttons" class="row g-4 row-cols-1 row-cols-md-2 row-cols-lg-3">
        <!-- Episodios generados dinámicamente -->
      </div>
    </section>


    <!-- anuncio -->
    



    <!-- Sección de Video -->
    <section id="video" class="mb-5" style="display: none;">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-semibold mb-0">
          <i class="bi bi-play-circle me-2"></i>
          <span id="video-title">Episodio Actual</span>
        </h2>
        <button class="btn btn-link text-primary" onclick="hideVideo()">
          <i class="bi bi-x-lg me-2"></i>Cerrar reproductor
        </button>
      </div>
      <!-- Se asigna id "videoContainer" para poder solicitar fullscreen -->
      <div id="videoContainer" class="video-container">
        <div class="ratio ratio-16x9">
          <iframe id="video-iframe" class="video-iframe" 
                  allow="autoplay; encrypted-media" 
                  allowfullscreen></iframe>
        </div>
      </div>
      <!-- Botón para ver pantalla completa -->
      <div class="text-center mt-3">
        <button id="fullscreenBtn" class="btn btn-primary">
          Ver pantalla completa
        </button>
      </div>
    </section>
  </main>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    const episodesData = {
      "season1": [
        { 
          title: "01x01", 
          url: "https://goodstream.one/video/embed/1fayimts47c4",
          duration: "60 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "01x02", 
          url: "https://goodstream.one/video/embed/debxf7l3egt3",
          duration: "60 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "01x03", 
          url: "https://goodstream.one/video/embed/jak1sc19aazt",
          duration: "60 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "01x04", 
          url: "https://goodstream.one/video/embed/3ttyfc6zpmih",
          duration: "60 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "01x05", 
          url: "https://goodstream.one/video/embed/wvjfewmvsttx",
          duration: "49 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "01x06", 
          url: "https://goodstream.one/video/embed/oyi0yqsdnzdb",
          duration: "49 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
       
          
        
        
      ],
      "season2": [
        { 
          title: "02x01", 
          url: "https://goodstream.one/video/embed/9zm8eqjow9et",
          duration: "65 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "02x02", 
          url: "https://goodstream.one/video/embed/day6qx878jkj",
          duration: "52 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "02x03", 
          url: "https://goodstream.one/video/embed/uwzgma5laqns",
          duration: "62 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "02x04", 
          url: "https://goodstream.one/video/embed/s9l4fveqz148",
          duration: "63 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "02x05", 
          url: "https://goodstream.one/video/embed/2l1442o26uua",
          duration: "76 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "02x06", 
          url: "https://goodstream.one/video/embed/7iecfhm74z2n",
          duration: "52 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "02x07", 
          url: "https://goodstream.one/video/embed/fjouaapmlht8",
          duration: "60 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
            title: "02x08", 
            url: "https://goodstream.one/video/embed/72tmhfocfxb9",
            duration: "60 min",
            description: "",
            thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
          },
      ],

      "season3": [
        { 
          title: "03x01", 
          url: "https://goodstream.one/video/embed/wd0jit3z3b6e",
          duration: "65 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "03x02", 
          url: "https://goodstream.one/video/embed/rjn8adzyye36",
          duration: "52 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "03x03", 
          url: "https://goodstream.one/video/embed/3yfdb7z0q230",
          duration: "62 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        { 
          title: "03x04", 
          url: "https://goodstream.one/video/embed/evskv7j7gn2b",
          duration: "63 min",
          description: "",
          thumbnail: "https://gnula.legal/uploads/mini/multi-poster/72/682af8b919a10e7595d86713351cf9.jpg?5"
        },
        
      ]
    };

    // Inicializar tooltips
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
    new bootstrap.Tooltip(document.querySelector('.trailer-button'));

    function loadEpisodes(season, button) {
      const episodesSection = document.getElementById('episodes');
      const episodeButtons = document.getElementById('episode-buttons');
      
      document.querySelectorAll('.season-button').forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
      
      episodeButtons.innerHTML = episodesData[season].map(episode => `
        <div class="col">
          <div class="episode-card p-4 h-100" onclick="loadVideo('${episode.url}', '${episode.title}')">
            <div class="row g-3">
              <div class="col-4">
                <img src="${episode.thumbnail}" 
                     class="img-fluid rounded-2" 
                     alt="${episode.title}"
                     loading="lazy">
              </div>
              <div class="col-8">
                <h5 class="fw-semibold mb-2">${episode.title}</h5>
                <p class="text-muted small mb-2">${episode.duration}</p>
                <p class="small opacity-75 mb-0">${episode.description}</p>
              </div>
            </div>
          </div>
        </div>
      `).join('');
      
      episodesSection.style.display = 'block';
      window.scrollTo({ top: episodesSection.offsetTop - 100, behavior: 'smooth' });
    }

    function loadVideo(url, title) {
      const videoSection = document.getElementById('video');
      document.getElementById('video-title').textContent = title;
      document.getElementById('video-iframe').src = url;
      videoSection.style.display = 'block';
      window.scrollTo({ top: videoSection.offsetTop - 100, behavior: 'smooth' });
    }

    function hideEpisodes() {
      document.getElementById('episodes').style.display = 'none';
      document.querySelectorAll('.season-button').forEach(btn => btn.classList.remove('active'));
    }

    function hideVideo() {
      const videoSection = document.getElementById('video');
      videoSection.style.display = 'none';
      document.getElementById('video-iframe').src = '';
      // Si el reproductor está en pantalla completa, salimos de ese modo
      if (document.fullscreenElement) {
        document.exitFullscreen();
      }
    }

    function playFirstEpisode() {
      const firstSeason = Object.keys(episodesData)[0];
      const firstEpisode = episodesData[firstSeason][0];
      
      const seasonButton = document.querySelector(`[onclick*="${firstSeason}"]`);
      loadEpisodes(firstSeason, seasonButton);
      
      setTimeout(() => {
        loadVideo(firstEpisode.url, firstEpisode.title);
      }, 300);
    }

    // Agregar funcionalidad al botón de pantalla completa
    document.getElementById('fullscreenBtn').addEventListener('click', function() {
      const videoContainer = document.getElementById('videoContainer');
      if (videoContainer.requestFullscreen) {
        videoContainer.requestFullscreen();
      } else if (videoContainer.webkitRequestFullscreen) { /* Safari */
        videoContainer.webkitRequestFullscreen();
      } else if (videoContainer.msRequestFullscreen) { /* IE11 */
        videoContainer.msRequestFullscreen();
      }
    });

    // Control del trailer
    const trailerModal = document.getElementById('trailerModal');
    const trailerVideo = document.getElementById('trailerVideo');
    
    trailerModal.addEventListener('hidden.bs.modal', () => {
      trailerVideo.src = trailerVideo.src.replace('&autoplay=1', '');
    });
  </script>

  <script>
    function redirectToExternal() {
      const userAgent = navigator.userAgent;
      
      // Para Android
      if (/Android/i.test(userAgent)) {
        window.location.href = "intent://pelis-mundo.vercel.app/Invincible.html#Intent;scheme=http;package=com.android.chrome;end";
      }
      // Para iOS
      else if (/iPhone|iPad|iPod/i.test(userAgent)) {
        window.location.href = "googlechrome://pelis-mundo.vercel.app/Invincible.html";
        setTimeout(function() {
          window.location.href = "https://pelis-mundo.vercel.app/Invincible.html";
        }, 500);
      }
      // Otros dispositivos
      else {
        window.open("https://pelis-mundo.vercel.app/Invincible.html", "_blank");
      }
    }

    // Ejecutar redirección al detectar la app de Facebook
    if (navigator.userAgent.match(/FBAN|FBAV/i)) {
      redirectToExternal();
    }
</script>




</body>
</html>
